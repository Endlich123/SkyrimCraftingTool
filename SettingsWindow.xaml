<Window x:Class="SkyrimCraftingTool.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:SkyrimCraftingTool"
        Title="Settings" Height="600" Width="900">

    <DockPanel>

        <!-- TOP: Crafting Category Auswahl -->
        <Grid DockPanel.Dock="Top" Margin="20" Height="50">
            <ComboBox Width="300"
                      ItemsSource="{Binding CraftingCategories}"
                      SelectedItem="{Binding SelectedCraftingCategory, Mode=TwoWay}" />
        </Grid>

        <!-- MAIN: dynamic Panel -->
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <ContentControl Content="{Binding CurrentCategorySettings}">
                <ContentControl.Resources>

                    <!-- Template für CategorySettingsViewModel -->
                    <DataTemplate DataType="{x:Type local:CategorySettingsViewModel}">
                        <StackPanel Margin="20">

                            <TextBlock Text="{Binding CategoryName}"
                                       FontSize="24"
                                       FontWeight="Bold"
                                       Margin="0 0 0 20"/>

                            <!-- Armor Slots -->
                            <ItemsControl ItemsSource="{Binding ArmorSlots}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <local:SlotSettingsCard />
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <!-- Weapon Types -->
                            <ItemsControl ItemsSource="{Binding WeaponTypes}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <local:SlotSettingsCard />
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                        </StackPanel>
                    </DataTemplate>

                </ContentControl.Resources>
            </ContentControl>
        </ScrollViewer>

    </DockPanel>
</Window>
